<!DOCTYPE html>
<html>

    {{ template "head" . }}

    </head>

    <body>

        {{ template "navbar" . }}

        <main class = "container-fluid">

            <div class = "row">

                <div class = "col-lg-9">

                    <a href = "#" data-toggle = "collapse" data-target = "#filter"><span class = "glyphicon glyphicon-triangle-right"></span> Filter...</a>

                    <div id = "filter" class = "collapse well">

                        <legend>Alphabetisch</legend>

                        <form action = "/modules" method = "POST" class = "form-horizontal modules-list-filter">

                            <div class = "form-group">

                                <div class = "col-lg-5">

                                    <select name = "modules-filter-letter" class = "form-control">

                                    {{ range $letter, $found := .Alphabet }}
                                        <option value = "{{$letter}}">Anfangsbuchstabe '{{ $letter }}'</option>
                                    {{ end }}
                                        <option value = "all">Zeige alle</option>

                                    </select>

                                </div>

                                <div class = "col-lg-5">

                                    <button type = "submit" name = "modules-filter-submit" class = "btn btn-primary">Filter</button>

                                </div>

                            </div>

                        </form>

                        <legend>Suche</legend>

                        <form action="/search" method="GET" class="form-horizontal">

                            <div class = "form-group">

                                <div class = "col-lg-5">

                                    <input class="form-control" type="text" name="q" placeholder="Modulname">

                                </div>

                                <div class = "col-lg-5">

                                    <button type = "submit" class = "btn btn-primary">Suchen</button>

                                </div>

                            </div>

                        </form>

                    </div>

                </div>

                <div class = "col-lg-3 modules-list-approved">

                    <div class = "checkbox">

                        <label onclick = "$('#modules-list-approved-checkbox')[0].checked = !$('#modules-list-approved-checkbox')[0].checked; updateVisibility();">Zeige nur nicht best√§tigte Module</label>
                        <input onclick = "updateVisibility()" type = "checkbox" name = "modules-filter-approved" value = "noApproved" id = "modules-list-approved-checkbox" />

                    </div>

                </div>

                <table class = "table table-striped table-hover">

                    <thead>

                        <tr>
                            <th>Modul-ID</th>
                            <th>Version</th>
                            <th>Modultitel</th>
                            <th>LP</th>
                            <th></th>
                            <th></th>
                        </tr>

                    </thead>

                    <tbody>

                {{ with .Modules }}
                    {{ range . }}
                        <tr id = "module-{{.ID}}">
                            <td>{{ .ModuleID }}</td>
                            <td>{{ .Version }}</td>
                            <td><a href = "/review/{{.ID}}">{{ .Title }}</a></td>
                            <td>{{ .ECTS }}</td>
                            <td style = "text-align: right;">A</td>
                            <td>B</td>
                        </tr>
                    {{ end }}
                {{ end }}

                    </tbody>

                </table>

            </div>

        </main>

        <script src = "/static/js/jquery.min.js"></script>
        <script src = "/static/js/bootstrap.min.js"></script>
        <script src = "/static/js/modules.js"></script>

    </body>

</html>
